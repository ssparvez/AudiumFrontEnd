<div class="row">
  <div class="left fade-in-half-sec">
    <h1>Playlists</h1>
  </div>
  <div class="right">
    <a class="btn btn-floating btn-large blue-bt fade-in-half-sec" >
      <i class="material-icons" (click)="openNewPlaylistForm($event)">add</i>
    </a>
  </div>
</div>
<div class="row" style="margin-bottom:0;" *ngIf="playlists">
  <div class="col s3 playlist-container fade-in-1-sec" @fade *ngFor="let playlist of playlists; let i = index;"
        (contextmenu)="playlistMenu.onContextMenu($event, playlist)" [attr.data-index]="i" >
    <div class="card hoverable grey darken-2" *ngIf="playlist">
      <div class="card-image" *ngIf="playlist">
        <a [routerLink]="['../playlist', playlist?.playlistId]" (mouseenter)="emulateContentHover(i, true)" (mouseleave)="emulateContentHover(i, false)">
          <img src="assets/images/defaults/playlist.svg" width="150">
        </a>
      </div>
      <div class="playlist-playbutton-div noSelect">
        <div *ngIf="isPlaying; then pause else play"></div>
        <ng-template #play >
          <a class="play-button" (click)="playPlayback(playlist.playlistId)">
            <i class="material-icons play-icon">play_circle_outline</i>
          </a>
        </ng-template>
        <ng-template #pause>
          <a class="play-button"  (click)="pausePlayback(playlist.playlistId)">
            <i class="material-icons play-icon">pause_circle_outline</i>
          </a>
        </ng-template>
      </div>
      <div class="playlist-name-div col s12 center {{emulateCardContentHover[i]}}" (mouseenter)="emulateContentHover(i, true)"
           (mouseleave)="emulateContentHover(i, false)">
        <a [routerLink]="['../playlist', playlist?.playlistId]" style="display:flex !important;">
          <div class="col s11 truncate playlist-name" style="color: inherit; padding-bottom: 28px;">{{playlist?.name}}
            <br>
            <a class="playlist-creator" [routerLink]="['../profile', playlist?.accountId]">{{playlist?.username}}</a>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>
<div class="row fade-in-2-sec" *ngIf="playlists?.length == 0">
  <div class="col s12">
    <div class="card-panel large transparent z-depth-0">
      <div class="row"></div>
    </div>
  </div>
  <div class="col s12">
    <div class="card-panel large transparent z-depth-0 center">
      <h2 class="grey-text">You haven't created or followed any playlists</h2>
    </div>
  </div>
</div>

<!-- Loading animation -->
<div class="row fade-in-2-sec valign-wrapper" style="min-height: 250px;" *ngIf="!playlists">
  <div class="loader">Loading...</div>
</div>
<app-playlist-menu #playlistMenu [playlists]="playlists" [detailed]="false"></app-playlist-menu>

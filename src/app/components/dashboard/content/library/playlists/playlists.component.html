<div class="row" style="margin-bottom: 0px;">
  <div class="left fade-in-half-sec">
    <h1>Playlists</h1>
  </div>
  <div class="right">
    <a class="btn btn-floating btn-large blue-bt fade-in-half-sec" >
      <i class="material-icons" (click)="openNewPlaylistForm($event)">add</i>
    </a>
  </div>
</div>
<div class="row" style="margin-bottom:0;" *ngIf="playlists">
  <div class="col s3 playlist-container fade-in-1-sec" @fade style="padding-bottom: 15px;" *ngFor="let playlist of playlists; let i = index;"
        (contextmenu)="playlistMenu.onContextMenu($event, playlist)" [attr.data-index]="i" >
    <div class="card transparent" *ngIf="playlist">
      <div class="card-image hoverable fade-in-1-sec" #playlistCardDiv (window:resize)="0" [ngStyle]="{'min-height.px': playlistCardDiv.offsetWidth, 'max-height.px': playlistCardDiv.offsetWidth }">
        <div class="playlist-div" [ngStyle]="{'min-height.px': playlistCardDiv.offsetWidth, 'max-height.px': playlistCardDiv.offsetWidth }">
          <div class="transparent playlist-img valign-wrapper" style="padding: 0px;" (window:resize)="0" [ngStyle]="{'min-height.px': playlistCardDiv.offsetWidth, 'max-height.px': playlistCardDiv.offsetWidth }">
            <img src="assets/images/defaults/playlist.svg" [ngStyle]="{'min-width.px': playlistCardDiv.offsetWidth }">
            <div class="playlist-play-button-wrapper valign-wrapper noSelect" style="position: absolute; width: 100%; top: -1px;" [routerLink]="['../playlist', playlist?.playlistId]" [ngStyle]="{ 'min-height.px': playlistCardDiv.offsetWidth + 1, 'max-height.px': playlistCardDiv.offsetWidth + 1 }">
              <div class="playlist-play-button-inner-wrapper" *ngIf="isPlaying; then pause else play"></div>
              <ng-template #play>
                <h1 class="col s12 playlist-play-button-inner-wrapper" style="text-align: center; margin-bottom: 0px;">
                  <a (click)="playPlayback($event, playlist?.playlistId)">
                    <i class="material-icons playlist-play-icon large">play_circle_outline</i>
                  </a>
                </h1>
              </ng-template>
              <ng-template #pause>
                <h1 class="col s12 playlist-play-button-inner-wrapper" style="text-align: center; margin-bottom: 0px;">
                  <a (click)="pausePlayback($event, playlist?.playlistId)">
                    <i class="material-icons playlist-play-icon large">pause_circle_outline</i>
                  </a>
                </h1>
              </ng-template>
            </div>
          </div>
        </div>
      </div>
      <div class="col s12 center card-playlist-info" style="margin-top: 8px;">
        <h3><a class="truncate" [routerLink]="['../playlist', playlist?.playlistId]">{{playlist?.name}}</a></h3>
        <h4 style="margin-top: 3px;"><a class="truncate" [routerLink]="['../profile', playlist?.accountId]">{{playlist?.username}}</a></h4>
      </div>
    </div>
  </div>
</div>
<div class="row fade-in-2-sec" *ngIf="playlists?.length == 0" style="margin-bottom: 0px;">
  <div class="col s12">
    <div class="card-panel large transparent z-depth-0">
      <div class="row"></div>
    </div>
  </div>
  <div class="col s12">
    <div class="card-panel large transparent z-depth-0 center">
      <h2 class="grey-text">You haven't created or followed any playlists</h2>
    </div>
  </div>
</div>

<!-- Loading animation -->
<div class="row fade-in-2-sec valign-wrapper" style="min-height: 250px; margin-bottom: 0px;" *ngIf="!playlists">
  <div class="loader">Loading...</div>
</div>
<app-playlist-menu #playlistMenu [playlists]="playlists" [detailed]="false"></app-playlist-menu>

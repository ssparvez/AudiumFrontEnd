<div class="row">
  <div class="left fade-in-half-sec">
    <h1>Playlists</h1>
  </div>
  <div class="right">
    <a class="btn btn-floating btn-large blue fade-in-half-sec" >
      <i class="material-icons" (click)="openNewPlaylistForm($event)">add</i>
    </a>
  </div>
</div>
<div class="row" style="margin-bottom:0;" *ngIf="playlists">
  <div class="row fade-in-1-sec" (contextmenu)="openMenu()" *ngFor="let playlist of playlists; let i = index;" [attr.data-index]="i" >
    <div class="card horizontal hoverable grey darken-2">
      <div class="card-image" *ngIf="playlist">
        <a [routerLink]="['../playlist', playlist?.playlistId]" (mouseenter)="emulateContentHover(i, true)" (mouseleave)="emulateContentHover(i, false)">
          <img src="assets/images/defaults/playlist.svg" width="150" height="150">
        </a>
      </div>
      <div class="card-stacked" *ngIf="playlist">
        <a [routerLink]="['../playlist', playlist?.playlistId]" style="display:flex !important;">
          <div class="card-content {{emulateCardContentHover[i]}}" (mouseenter)="emulateContentHover(i, true)" (mouseleave)="emulateContentHover(i, false)">
              <h2 class="col s11 truncate" style="color: inherit; padding-bottom: 28px;">{{playlist?.name}}</h2>
              <span class="col s1 right right-align grey-text {{emulateCardContentHoverIcon[i]}}" *ngIf="playlist?.accountId == currentAccountId">
                <i class="material-icons">star</i>
              </span>
            <!-- <h4>{{playlist?.description}}</h4> --> <!-- Might add support for playlist descriptions later if we have time -->
          </div>
        </a>
        <div class="card-action" style="padding: 2px 24px;" *ngIf="currentUser && playlist?.accountId == currentAccountId">
          <a [mdMenuTriggerFor]="playlistCreatorMenu">
            <div class="chip waves-effect hoverable" style="background-color: transparent;">
              <i class="material-icons playlist-more-icon">more_horiz</i>
            </div>
          </a>
          <a class="btn-floating halfway-fab waves-effect waves-light blue"><i class="material-icons">play_arrow</i></a>
        </div>
        <div class="card-action" style="padding: 2px 24px;" *ngIf="currentUser && playlist?.accountId != currentAccountId">
          <a [mdMenuTriggerFor]="playlistFollowerMenu">
            <div class="chip waves-effect hoverable" style="background-color: transparent;">
              <i class="material-icons playlist-more-icon">more_horiz</i>
            </div>
          </a>
          <a class="btn-floating halfway-fab waves-effect waves-light blue"><i class="material-icons">play_arrow</i></a>
        </div>
      </div>
    </div>
    <md-menu #playlistCreatorMenu="mdMenu">
      <button md-menu-item class="playlists-context-menu"> Edit </button>
      <button md-menu-item class="playlists-context-menu"> <span *ngIf="!(playlist?.isPublic)">Make public</span><span *ngIf="playlist?.isPublic">Make private</span> </button>
      <button md-menu-item class="playlists-context-menu"> Delete </button>
    </md-menu>
    <md-menu #playlistFollowerMenu="mdMenu">
        <button md-menu-item class="playlists-context-menu"> Unfollow </button>
    </md-menu>
  </div>
</div>

<div class="row fade-in-2-sec" *ngIf="playlists?.length == 0">
  <div class="col s12">
    <div class="card-panel large transparent z-depth-0">
      <div class="row"></div>
    </div>
  </div>
  <div class="col s12">
    <div class="card-panel large transparent z-depth-0 center">
      <h2 class="grey-text">You haven't created or followed any playlists</h2>
    </div>
  </div>
</div>

<!-- Loading animation -->
<div class="row fade-in-2-sec" *ngIf="!playlists">
  <div class="loader">Loading...</div>
</div>


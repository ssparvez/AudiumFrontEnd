<header>
  <div *ngIf="currentUser && currentAccountRole && currentAccountRole == 'BasicUser' && !upgradeBannerIsHidden" class="green accent-3" [@upgradeBannerTrigger]='upgradeBannerState'>
    <div class="row" style="margin-bottom: 0px;">
      <a [routerLink]="['account']" class="upgrade-nag col s4 offset-s4 center" style="padding-top: 4px;">
        <b>Upgrade to Audium Premium!</b>
      </a>
      <a>
        <i (click)="upgradeBannerIsHidden = true" class="material-icons upgrade-nag right small">close</i>
      </a>
    </div>
  </div>
  <div class="navbar" *ngIf="currentUser && currentAccountRole && currentAccountRole == 'BasicUser' || currentAccountRole == 'PremiumUser'">
    <nav style="height: 60px;">
      <div class="nav-wrapper grey darken-3">
        <form>
          <div class="input-field">
            <input #search id="search" type="search" required (keyup.enter)="onEnter(search.value)">
            <label class="label-icon" for="search">
              <i class="large material-icons content-searchicon">search</i>
            </label>
            <i class="material-icons clear-search" (click)="search.value = null">close</i>
          </div>
        </form>
      </div>
    </nav>
  </div>
</header>
<main class="grey darken-4" #mainElement>
  <div class="container" style="width: 90%;" *ngIf="currentUser">
    <!-- Page Content goes here -->
    <div class="row"></div>
    <router-outlet></router-outlet>
  </div>
  <div class="container" style="width: 90%;" *ngIf="!currentUser">
    <div class="row fade-in-half-sec valign-wrapper center-align" style="min-height: 500px;">
      <div class="row" #redirectMsgDiv style="display: none; width: 100%;">
        <h2 class="col s12 fade-in-half-sec" style="width: 100%;">Session expired.</h2>
        <h3 class="col s12 fade-in-half-sec" style="width: 100%; padding-top: 10px;">Redirecting to login page...</h3>
      </div>
      <div class="row fade-in-half-sec" #loadingDiv style="width: 100%;">
        <div class="loader">Loading...</div>
      </div>
    </div>
  </div>
</main>
<footer class="fixed" >
  <div class="card" style="margin-bottom: 0px;" *ngIf="currentUser?._role && currentUser?._role == 'BasicUser' && !adBannerIsHidden" [@adBannerTrigger]>
    <div class="card-image">
      <a [href]="'https://www.walmart.com/browse/christmas-gifts/0/0/?_refineresult=true&_be_shelf_id=5922&search_sort=100&facet=shelf_id:5922'" [target]="_blank">
        <img class="responsive-img" src="assets/images/walmartholidays.jpg" mz-tooltip [tooltip]="'<b>Advertisement</b>'" [position]="'top'" [html]="true">
      </a>
      <a class="close-ad" (click)="adBannerIsHidden = true">
        <span class="card-title" style="padding: 12px 12px 0px 12px;" mz-tooltip [tooltip]="'<b>Close advertisement</b>'" [position]="'right'" [html]="true">
          <i class="material-icons">close</i>
        </span>
      </a>
    </div>
  </div>
</footer>

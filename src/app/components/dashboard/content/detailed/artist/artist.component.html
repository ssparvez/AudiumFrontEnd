<div class="row fade-in-1-sec">
  <div class="card col s12 z-depth-0 transparent">
    <div class="card-image">
      <img class="responsive-img" src="assets/images/parallax.png">
      <span class="card-title black fade-in-half-sec" id="large-card-title">
        <h1 class="fade-in-1-sec" style="display: inline; vertical-align: middle;">{{artist?.artistName}}</h1>
        <a style="margin-left: 20px;" class="waves-effect waves-light btn" *ngIf="artist">Follow</a>
      </span>
      <a (click)="playArtistSongs(0, artist?.songs)" class="btn-floating halfway-fab waves-effect waves-light blue hoverable" *ngIf="artist?.songs?.length > 0">
        <i class="material-icons">play_arrow</i>
      </a>
    </div>
  </div>
  
  <ng-container *ngIf="artist && artist?.songs">
    <mz-tab [fixedTabWidth]="'true'" [responsiveThreshold]="'true'">
      <mz-tab-item class="fade-in-half-sec" [label]="'Overview'" [active]="true">
        <div class="row fade-in-half-sec" style="margin-top: 30px;">
          <h2 class="center">Popular Songs</h2>
        </div>
        <div class="row fade-in-1-sec">
          <table class="bordered responsive-table white-text" *ngIf="artist">
            <thead>
              <tr>
                <th>Title</th>
                <th>Album</th>
                <th class="center">Plays</th>
              </tr>
            </thead>
            <tbody class="tracklist" *ngIf="artist?.songs">
              <tr *ngFor="let song of artist?.songs; let i = index" (dblclick)="playArtistSongs(i, artist?.songs)">
                <td>{{song?.title}}</td>
                <td *ngIf="song">
                  <a [routerLink]="['../../album', song?.albumId]">{{song?.albumTitle}}</a>
                </td>
                <td class="center">{{song?.playCount}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="row fade-in-half-sec" style="margin-top: 20px;" *ngIf="artist?.songs">
          <h2 class="center">Albums</h2>
        </div>
        <div class="row fade-in-half-sec" *ngIf="artist?.songs && artist?.albums">
          <div class="col s12 m3 fade-in-1-sec" *ngFor="let album of artist?.albums">
            <div class="card transparent hoverable">
              <div class="card-image" *ngIf="album">
                <a [routerLink]="['../../album', album?.albumId]">
                  <img src="assets/images/defaults/album.svg">
                </a>
                <span class="card-title black" id="small-card-title">
                  <h4 class="truncate" *ngIf="album">
                    <a [routerLink]="['../../album', album?.albumId]">{{album?.albumTitle}}</a>
                  </h4>
                  <h5 class="truncate">{{album?.releaseYear?.substring(0,4)}}</h5>
                </span>
                <a (click)="playAlbumSongs(album?.albumId)" class="btn-floating halfway-fab waves-effect waves-light blue" *ngIf="artist && artist.songs">
                  <i class="material-icons">play_arrow</i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </mz-tab-item>
      <mz-tab-item [label]="'About'" class="fade-in-half-sec">
        <h3 style="margin-top: 30px;">
          <p>{{artist?.bio}}</p>
        </h3>
      </mz-tab-item>

      <mz-tab-item [label]="'Related Artists'" class="fade-in-half-sec">
        <h2 class="center" style="margin-top: 30px;">Related Artists</h2>
        <ul class="collection" style="margin-top: 20px; border:none;">
          <li class="collection-item avatar grey darken-4" *ngFor="let thing of things">
            <img src="assets/images/kebin.jpg" alt="" class="circle">
            <span class="title white-text">Kevin Parker</span>
            <p class="white-text">16 Followers
              <br>
            </p>
            <a href="#!" class="secondary-content">
              <a class="waves-effect waves-light btn">Follow</a>
            </a>
          </li>
        </ul>
      </mz-tab-item>

      <mz-tab-item [label]="'Events'" class="fade-in-half-sec">
        <h2 class="center" style="margin-top: 30px;">Events</h2>          
        <ul class="collection" style="margin-top: 20px; border:none;">
          <li class="collection-item grey darken-4" *ngFor="let thing of things">
            <div class="row" style="margin-bottom: 0px;">
            <div class="col m1">
              <div style="width: 50px;">
                <div style="height: 20px; background-color: red;"><h4 class="white-text center" style="padding-top: 2px;">JUL</h4></div>
                <div style="height: 30px; background-color: white;"><h3 class="black-text center" style="padding-top: 5px;"><b>28</b></h3></div>
              </div>
            </div>
            <div class="col m8">
              <div class="row">
                <div class="col m5">
                  <h4>Warped Tour</h4>
                </div>                  
                <div class="col m7">
                    <i class="material-icons white-text">location_on</i>
                    <span style="font-size: 16px; font-weight: 500; color: #ccc;">Northwell Health at Jones Beach Theater, Wantagh</span>
                </div>
              </div>
            </div>
            <div class="col m3">
              <a class="right waves-effect waves-light btn">Get Tickets</a>
            </div>
            </div>
          </li>
        </ul>
      </mz-tab-item>
    </mz-tab>

    <div class="row fade-in-2-sec" *ngIf="artist?.songs?.length == 0 && artist?.albums?.length == 0">
      <div class="col s12">
        <div class="card-panel large transparent z-depth-0">
          <div class="row"></div>
        </div>
      </div>
      <div class="col s12">
        <div class="card-panel large transparent z-depth-0 center">
          <h2 class="grey-text">No songs or albums by this artist</h2>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- Loading animation -->
  <div class="row fade-in-2-sec" *ngIf="!artist">
    <div class="loader">Loading...</div>
  </div>
</div>
